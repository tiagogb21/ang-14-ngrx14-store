<section *ngIf="teste" class="loading">
  <h1>Loading!</h1>
</section>

<section class="home__container">
  <section class="row row-cols-1 row-cols-md-3">
    <section class="col" *ngFor="let product of products$ | async">
      <section class="card">
        <article class="card-body">
          <h5 class="card-title">{{ product.title }}</h5>
        </article>
        <ul class="text-center list-group list-group-flush">
          <img src="{{ product.photos }}" alt="{{ product.title }}" />
          <p class="card-price">{{ product.mediumPrice | currency }}</p>
          <div class="card-rating">
            <p>{{ product.rating }} / 10</p>
          </div>
          <div class="btn-ed__container">
            <a [routerLink]="['/edit', product._id]" class="btn btn-dark"
              >Edit</a
            >
            <button
              class="btn btn-dark"
              (click)="openDeleteModal(product._id!)"
            >
              Delete
            </button>
          </div>
        </ul>
      </section>
    </section>

    <!-- Modal -->
    <div
      class="modal fade"
      id="deleteModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Confirm Delete</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">Are sure to delete this item?</div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-danger" (click)="delete()">
              Confirm Delete
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class="row">
    <div class="btn-add__container col col-md-4 offset-md-4">
      <a routerLink="/add-product" class="btn btn-add"> Add A New Product </a>
    </div>
  </div>
</section>
